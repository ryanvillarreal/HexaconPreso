<!doctype html>
<html lang="en">
	<head>
		<meta charset=utf-8>
		<title>Hexacon v2.0</title>
		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="R to the V">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">
		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">
		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>
	<body>
		<div class="reveal">
			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section data-background-image="./img/hexacon.png" data-background-size=100%>
					<h3>Building a Better WiFi Pineapple</h3>
					<h4>With Open Source Tools</h4>
				</section>
				<section data-background-image="./img/hexacon.png" data-background-size=100%>
				<section>
					<h4>
						<br><br>
							<ol>
								<li>What is a Pineapple?</li>
								<li>Why does it need to be better?</li>
								<li>Hardware Limitations</li>
								<li>Software Limitations</li>
								<li>Alterantives</li>
							</ol>
						</p></h4>
					</section>
				</section>

				<section data-background-image="./img/background1.png" data-background-size=97%>
					<section>
					$ awk -F':' '{print $1}' /etc/passwd | grep -i "Ryan"<p>
					$ <span class="red">ryan_villarreal</span>
					</p>
					</section>
					<section>
						I am Ryan Villarreal, and I have been with Coalfire for about 8 months now.  I have been a pentester for around 4 years now.
					</section>
					<section>
						I have done <q>at least</q> 2 wireless penetration tests, but I am a hobbyist wireless nerd. 
						<p>(Notice I did not say expert.)</p>
					</section>
					<section>
						So if you aren't an expert why are you giving this talk?
						<p>
						I really enjoy all things wireless, and I'm trying to get better at it.
						</p>
					</section>
					<section>
						also I'm not a huge fan of Hak5, I have been burned in the past on Wireless engagements trying to use their hardware/software. 
					</section>
					<section>
						<img src="./img/why.jpg">
					</section>
				</section>

				<section data-background-image="./img/background2.png" data-background-size=97%>
						<section>
						What is a Pineapple?
						</section>
						<section>
							Nano vs. Tetra
							<img src="./img/versus.png">
						</section>
						<section>
							Tetra - Hardware
							<ul>
								<li>Dual Band 2.4/5 GHz - 533 MHz Network SoC</li>
								<li>Four Long Range Antennas - up to 800mW per radio</li>
								<li>2 GB NAND Flash</li>
								<li>USB Ethernet, USB Serial,USB Host and Ethernet Ports </li>
							</ul>
						</section>
						<section>
							Nano - Hardware
							<ul>
								<li>Single Band 2.4 GHz - 400 MHz Network SoC</li>
								<li>Two Standard Antennas - up to 400mW per radio</li>
								<li>MicroSD Card Expansion</li>
								<li>USB Ethernet Plug, USB Host Port</li>
							</ul>
						</section>
						<section>
						Why Does it Need to Better?
						<p>Hak5 is a company who totes having the 'TOP PENTEST DEVICES'</p>
						<img src="./img/top.pentest.devices.hak5.png">
					</section>
					<section>
						But what makes them the Top Pentest Devices?
						<p>The claim is that the PineAP is a highly effective rogue access point suite for the WiFi Pineapple. Building on the simple probe request and response nature of Karma, PineAP takes the attack to the extreme. </p>
						<p>(Their words, not mine)</p>
						<br>
					</section>
					<section>
						KARMA attacks are when an access point pretends to be any access point a device may be looking for. 
					</section>
					<section>
						<img src="./img/probe2.png">
					</section>
					<section>
						Why does Wireless work this way?  Passive scanning is not very efficient. 
					</section>
					<section>
						Instead of waiting on the device to scan through every channel and listen to beacons from the Access Points, why don't we have the client send probe packets of the devices they are looking for. 
					</section>
					<section>
						This allows an attacker to listen for these probe requests and respond as I am < insert > ssid here.
					</section>
					<section>
						So this is what Hak5 claims they are taking to the extreme, the Karma attack. 
					</section>
				</section>

				<section data-background-image="./img/background1.png" data-background-size=97%>
					<section>
							Limitations - Hardware
							<br>
							<h5>*Limitations are in reference to pentesting/red teaming.  Limitations might not apply to all use cases.*</h5>
						</section>
						<section>
							Size<br>
							<img height="50%" width="50%" src="./img/tactical.bag.jpg">
						</section>
						<section>
							This is what I am trying to avoid looking like. 
							<img src="./img/zach.jpg">
						</section>
						<section>
							Battery Life/Compatibility<br>
							<img width="50%" height="50%" src="./img/pineapple.back.jpeg">
						</section>
						<section>
							<img width="50%" height="50%" src="./img/anker.battery.jpg">
						</section>
						<section>
							<img src="./img/anker.purchase.PNG">
						</section>
						<section>
							<img width="40%" height="40%" src="./img/nano.jpg">
						</section>
						<section>
							<img src="./img/no.5ghz.PNG">
						</section>
						<section>
							No iOS support.  Android only.  Thanks Apple.  
							Additionally, only USB support while scanning. 
						</section>
				</section>

				<section data-background-image="./img/background2.png" data-background-size=97%>
					<section>
					Alternatives
					</section>
					<section>
						<img width="50%" height="50%" src="./img/pi.4.png">
					</section>
					<section>
						<img width="50%" height="50%" src="./img/pi.0.jpg">
					</section>
					<section>
						<img width="50%" height="50%" src="./img/zotac.pico.jpg">
					</section>
					<section>
						<img width="50%" height="50%" src="./img/odroid.jpeg">
					</section>
					<section>
						<img src="./img/gl.inet.ar.150.jpg">
					</section>
				</section>

				<section data-background-image="./img/background1.png" data-background-size=97%>
					<section>
					Pineapple - Software <p>
					So the Nano and the Tetra have slight differences in the firmware.  However, both are based off of OpenWRT. 
					</section>
					<section>
					What all can the Pineapple do?
					</section>
					<section>
						<img src="./img/menu.PNG">
					</section>
					<section>
						<img src="./img/whatitdo.png">
					</section>
					<section>
						<img src="./img/confused.png" height="70%" width="70%">
					</section>
					<section>
						<img src="./img/ohokay.png">
					</section>
				</section>

				<section data-background-image="./img/background2.png" data-background-size="97%">

					<section>
						Let's take a little look behind the mask. 
					</section>
					<section>
						<img height="100%" width="50%" src="./img/reveal.jpg">
					</section>
					<section>
						<img src="./img/pineapd.png">
					</section>
					<section>
						<img src="./img/airodump.png">
					</section>
					<section>
						To be clear, I'm not saying AirCrack is a bad tool.  I'm saying this doesn't make the WiFi pineapple the best device on the market. 
					</section>
					<section>
						...and then there is the crashes.
					</section>
					<section>
							<img width="50%" height="50%" src="./img/crashes.PNG">
					</section>
				</section>


				<section data-background-image="./img/background1.png" data-background-size="97%">
					<section>
						So here is what we need to be able to do...
						<ul>
							<li>mitm framework</li>
							<li>capture wireless beacons</li>
							<li>capture handshakes</li>
							<li>not blast the entire wireless space</li>
						</ul>
					</section>
					<section>
					How Open Source Tools can help
					</section>
					<section>
					Enter bettercap, the better ettercap
					<br>
					<img src="./img/bettercap.logo.png">
					</section>
				</section>

				<section data-background-image="./img/background2.png" data-background-size="97%">
					<section>
					bettercap is the Swiss Army knife for WiFi, Bluetooth Low Energy, wireless HID hijacking and Ethernet networks reconnaissance and MITM attacks.
					</section>
					<section>
						<img src="./img/image-5.png">
					</section>
										
					<section>
						<img src="./img/image-6.png">
					</section>

					<section>
						<img src="./img/image-7.png">
					</section>

					<section>
						<img src="./img/image-9.png">
					</section>

					<section>
						<img src="./img/image-12.png">
					</section>

					<section>
						<img src="./img/image-13.png">
					</section>

					<section>
						but, but, but, the Pineapple has an easy to use Web UI...
					</section>

					<section>
						<img src="./img/webui.PNG">
					</section>

					<section>
						<img src="./img/webui2.PNG">
					</section>

					<section>
						Well what about WPA enterprise attacks?
						<br>
						<img src="./img/PineAP.Ent.PNG">
					</section>
					<section>
						<img src="./img/sure.PNG">
					</section>
					<section>
						<img height="90%" src="./img/yeah.okay.PNG">
					</section>
				</section>

				<section data-background-image="./img/background2.png" data-background-size="97%">
					<section>
						So far this is a bunch of evidence of the Pineapple profiting off of Open Source Software, but what is the PineAP doing?
					</section>
					<section>
						<img width="50%" height="50%" src="./img/pineap.help.PNG">
					</section>
					<section>
						<img src="./img/ghidra.png">
					</section>
					<section>
						<img src="./img/ghidra1.PNG">
					</section>
					<section>
						<img src="./img/ghidra2.PNG">
					</section>
					<section>
						<img src="./img/ghidra3.PNG">
					</section>
					<section>
						<img src="./img/ghidra5.PNG">
					</section>
					<section>
						<img src="./img/ghidra7.PNG">
					</section>
				</section>

				<section data-background-image="./img/background2.png" data-background-size="97%">
					<section>
						Summary
					</section>
					<section>
						<img width="50%" height="50%" src="./img/shrug.jpeg">
					</section>
					<section>
						I'm not quite sure where to go with this information.  I would love to build an open source Rasbpian version specifically meant for Wireless testing. 
					</section>
					<section>
						There is a void in the pentesting hardware area right now. Someone else could come in and dominate the wireless hardware offering a superior product for similar price point. 
					</section>
				</section>

				<section data-background-image="./img/background2.png" data-background-size="97%">
					<section>
					Future Work
					</section>
					<section>
					<ul>
						<li>Improve upon Open Source Automation.</li>
						<li>Find a better singleboard wireless pentesting tool.
						<li>Build a better singleboard wireless pentesting tool.</li>
						<li>Continue reverse engineering the PineAP.</li>
						<li>Future Wireless standards</li>
					</ul>
					</section>
					<section>
					If anyone wants to help.  Hit me up.
					</section>
				</section>

				<section data-background-image="./img/background1.png" data-background-size="97%">
				Sources and Inspiration: <br>
				<ul>
					<li>https://hak5.org</li>
					<li>Raspberry Pi Org</li>
					<li>Bettercap Project</li>
					<li>hostapd-wpe</li>
					<li>My own pain and suffering</li>
				</ul>
				</section>

				<section data-background-image="./img/background2.png" data-background-size="97%">
					Extra Credit
					<section>
						<img src="./img/email1.jpeg">
					</section>
					<section>
						<img src="./img/email2.jpeg">
					</section>
					<section>
						<img src="./img/confused.gif">
					</section>
				</section>
			</section>

		<script src="js/reveal.js"></script>
		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				center: true,
				hash: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true },
					{ src: 'plugin/search/search.js', async: true },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});
		</script>
	</body>
</html>
